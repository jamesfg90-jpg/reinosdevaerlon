<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cr√≥nicas de Vaerlon</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=EB+Garamond:ital,wght@0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#f1e4c3; --bg-2:#e3d3aa; --ink:#2e2a25; --ink-2:#5b5347;
  --accent:#7a3f1e; --accent-2:#b06c3b; --card:#fffaf0;
  --shadow:rgba(0,0,0,.12);
}
:root.dark{
  --bg:#151312; --bg-2:#1d1a17; --card:#1f1c19;
  --ink:#e7e1d8; --ink-2:#bfb6a8; --accent:#d6a15c; --accent-2:#f3c889;
  --shadow:rgba(0,0,0,.5);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:"EB Garamond",serif; color:var(--ink);
  background:linear-gradient(180deg,var(--bg),var(--bg-2));
}
h1,h2,h3,h4{font-family:"Cinzel",serif; letter-spacing:.5px; color:var(--ink)}
a{color:var(--accent); text-decoration:none}
.container{display:grid; grid-template-columns:280px 1fr; gap:18px; max-width:1400px; margin:0 auto; padding:16px}
@media (max-width:980px){ .container{grid-template-columns:1fr} }

/* Sidebar */
aside{
  position:sticky; top:12px; align-self:start; background:var(--card);
  border:1px solid rgba(0,0,0,.08); box-shadow:0 6px 18px var(--shadow);
  border-radius:14px; padding:14px
}
.brand{display:flex; align-items:center; gap:10px; margin-bottom:8px}
.brand .sigil{
  width:38px; height:38px; border-radius:50%;
  background: radial-gradient(60% 60% at 30% 30%, var(--accent-2), var(--accent));
  box-shadow: inset 0 0 0 2px rgba(0,0,0,.15), 0 2px 6px var(--shadow);
}
nav a{display:block; padding:10px; border-radius:10px; color:var(--ink-2); font-weight:500}
nav a.active, nav a:hover{background:rgba(0,0,0,.06); color:var(--ink)}
.controls{display:flex; gap:8px; margin:10px 0 14px}
button,.btn{font-family:inherit;border:none;background:var(--accent);color:#fff;padding:8px 10px;border-radius:10px;cursor:pointer;box-shadow:0 3px 10px var(--shadow)}
button.ghost{background:transparent;color:var(--accent);border:1px solid var(--accent)}
input[type="search"]{width:100%; padding:10px 12px; border-radius:10px; border:1px solid rgba(0,0,0,.15); background:#fff3; color:var(--ink)}

/* Main */
main{
  background:var(--card); border:1px solid rgba(0,0,0,.08);
  border-radius:16px; padding:18px; box-shadow:0 10px 24px var(--shadow);
  min-height:70vh
}

/* Hero */
.hero{
  position:relative; height:280px; border-radius:14px; margin-bottom:16px;
  background-position:center; background-size:cover; overflow:hidden
}
.hero::before{
  content:""; position:absolute; inset:0;
  background:rgba(0,0,0,.35); backdrop-filter:blur(2px);
}
.hero-overlay{position:relative; z-index:1; display:flex; align-items:center; justify-content:center; height:100%}
.hero-overlay h1{margin:0; font-size:2.8rem; color:#fff; text-shadow:0 2px 6px rgba(0,0,0,.6)}

/* Cards & grid */
.grid{display:grid; grid-template-columns:repeat(12,1fr); gap:14px}
.card{grid-column:span 6; background:var(--card); border:1px solid rgba(0,0,0,.06); border-radius:12px; padding:14px; box-shadow:0 6px 12px var(--shadow)}
.card.small{grid-column:span 4}
.card.wide{grid-column:span 12}
.meta{font-size:14px; color:var(--ink-2)}
.tag{display:inline-block; padding:3px 8px; border-radius:999px; background:rgba(0,0,0,.08); margin-right:6px; font-size:.85rem}

/* Ticker */
.ticker{overflow:hidden}
.ticker-head{
  display:flex; align-items:center; gap:14px; margin-bottom:8px;
  border-bottom:1px solid rgba(0,0,0,.08); padding-bottom:8px; font-weight:700;
}
.ticker-body{min-height:74px; display:flex; align-items:center}
.ticker-item{display:flex; gap:10px; align-items:flex-start; animation:slideIn .4s ease}
.ticker-item .badge{
  font-size:.75rem; letter-spacing:1px; border:1px solid rgba(0,0,0,.15);
  padding:4px 6px; border-radius:6px; margin-top:3px; background:#2b3d55; color:#fff;
}
.ticker-item .title{font-weight:700; margin-bottom:2px}
.ticker-item .text{color:var(--ink-2)}
.ticker .controls{margin-left:auto; display:flex; gap:6px}
.ticker .controls button{padding:6px 8px}
@keyframes slideIn{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)}}

/* Intro grimdark */
.grim{ line-height:1.5; color:var(--ink-2); }

/* Galer√≠a de regiones */
.regions{ display:grid; grid-template-columns:repeat(4,1fr); gap:14px; }
@media(max-width:1100px){ .regions{grid-template-columns:repeat(2,1fr)} }
@media(max-width:640px){ .regions{grid-template-columns:1fr} }
.region{
  display:block; border:1px solid rgba(0,0,0,.08); border-radius:12px;
  overflow:hidden; box-shadow:0 6px 12px var(--shadow); background:var(--card);
  transform:translateZ(0);
}
.region:hover{ transform:translateY(-2px) }
.region-img{
  height:160px; background-size:cover; background-position:center;
  filter:contrast(1.05) saturate(1.05);
}
.region-info{ padding:10px }
.region-name{ font-family:"Cinzel",serif; font-weight:700 }
</style>
</head>
<body>
<div class="container">
  <aside>
    <div class="brand"><div class="sigil"></div><div>
      <div style="font-family:Cinzel;font-weight:700;letter-spacing:1px">Cr√≥nicas de Vaerlon</div>
    </div></div>
    <div class="controls"><button class="ghost" id="toggleTheme">üåì</button></div>
    <input id="search" type="search" placeholder="Buscar..." />
    <nav id="nav">
      <a href="#/inicio" class="active">üè† Inicio</a>
      <a href="#/lore">üìú Lore</a>
      <a href="#/cronologia">‚è≥ Cronolog√≠a</a>
      <a href="#/mapa">üó∫Ô∏è Mapa</a>
      <a href="#/reinos">üëë Reinos</a>
      <a href="#/pnj">üßô PNJ</a>
      <a href="#/bestiario">üêâ Bestiario</a>
      <a href="#/aventuras">üó°Ô∏è Aventuras</a>
      <a href="#/sesiones">üìù Registro</a>
      <a href="#/descargas">‚¨áÔ∏è Descargas</a>
    </nav>
  </aside>
  <main id="app"></main>
</div>

<footer class="container"><div class="meta">¬© Vaerlon ‚Äî Cinzel & EB Garamond</div></footer>

<script>
const DATA = {
  settings: {
    worldName: "Vaerlon",
    heroImage: "20250828_1517_Paisaje Natural Renovado_remix_01k3rd15b4fd29q1yypr66mcyq.png",
    mapImage: "Garia%202025-02-21-00-37.jpeg",
    markers: []
  },
  news: [
    { title:"Contrataci√≥n urgente", text:"El **Fuerte Aulden** ofrece paga doble a mercenarios. Se requieren ballesteros y curanderos." },
    { title:"Puente derrumbado", text:"El puente de **Harrow-Fenn** ha sido destruido tras un ataque de trolls. Paso cerrado." },
    { title:"Mareas negras", text:"En **Clayard** la pesca muere; se investigan grietas submarinas y culto ilegal." }
  ],
  regions: [
    { id:"valdrheim", name:"VALDRHEIM", img:"img/regions/valdrheim.jpg" },
    { id:"elarion",   name:"ELARION",   img:"img/regions/elarion.jpg" },
    { id:"thalassor", name:"THALASSOR", img:"img/regions/thalassor.jpg" },
    { id:"korvvaraz", name:"KORVVARAZ", img:"img/regions/korvvaraz.jpg" }
  ],
  lore: { intro:"**Un Mundo sin Creadores.** ..." }
};

const $ = (s,ctx=document)=>ctx.querySelector(s);
const $$ = (s,ctx=document)=>[...ctx.querySelectorAll(s)];
const app=$("#app");

function renderInicio(){
  app.innerHTML=`
  <section class="hero" style="background-image:url('${DATA.settings.heroImage}');">
    <div class="hero-overlay"><h1>Cr√≥nicas de ${DATA.settings.worldName}</h1></div>
  </section>
  <section class="ticker card">
    <div class="ticker-head"><div>üì∞ <span style="font-weight:700">Gaceta</span></div>
      <div class="controls"><button class="ghost" id="prevNews">‚óÄ</button><button class="ghost" id="nextNews">‚ñ∂</button></div>
    </div>
    <div class="ticker-body" id="tickerBody"></div>
  </section>
  <section class="card"><h3>Estado del Mundo</h3>
    <p class="grim">No hay profec√≠as que salven a nadie...</p>
  </section>
  <section><h3>Regiones</h3><div class="regions">
    ${DATA.regions.map(r=>`
      <a class="region" href="#/reinos/${r.id}">
        <div class="region-img" style="background-image:url('${r.img}');"></div>
        <div class="region-info"><div class="region-name">${r.name}</div></div>
      </a>`).join('')}
  </div></section>`;
  const body=$("#tickerBody"),prev=$("#prevNews"),next=$("#nextNews");
  let idx=0,paused=false;
  function paint(){const n=DATA.news[idx%DATA.news.length];body.innerHTML=`<div class="ticker-item"><div class="badge">AVISO</div><div><div class="title">${n.title}</div><div class="text">${n.text}</div></div></div>`;}
  prev.onclick=()=>{idx--;paint()};next.onclick=()=>{idx++;paint()};
  setInterval(()=>{if(!paused){idx++;paint()}},4000);
  body.onmouseenter=()=>paused=true;body.onmouseleave=()=>paused=false;
  paint();
}

function router(){renderInicio();}
window.addEventListener("hashchange",router);router();
</script>
</body>
</html>
